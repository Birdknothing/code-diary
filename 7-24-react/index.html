<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script src="../my-min-library/react.min.js"></script>
    <script src="../my-min-library/reactdom.min.js"></script>
    <script src="../my-min-library/babel.min.js"></script>
    <title>Document</title>
  </head>
  <body>
    <div id="test"></div>
    <script type="text/babel">
      const { Component } = React;
      const C2 = React.lazy(
        () =>
          new Promise(res => {
            setTimeout(() => {
              res({ default: () => 123 });
            }, 2000);
          })
      );
      const C3 = props => {
        setTimeout(() => {
          console.log('C3');
        });
        return <div>{props.children}</div>;
      };
      const C1 = Rr =>
        class extends React.Component {
          // const C1 = props => {
          render() {
            console.log(this.props);
            return (
              <React.Suspense fallback={'loading'}>
                <C2 />
                <Rr {...this.prop} />
              </React.Suspense>
            );
          }
        };
      const C5 = () => {
        setTimeout(() => {
          console.log('C5');
        });
        return 'hello';
      };
      const C0 = C1(() => 456);
      class C6 extends Component {
        constructor(props) {
          super(props);
          this.state = { x: 'test11', y: 2 };
        }
        componentDidMount() {
          setTimeout(() => {
            this.state.x = 'test222';
            this.setState({});
          }, 2000);
        }
        render() {
          return <C7 {...this.state} />;
        }
      }
      class C7 extends Component {
        constructor(props) {
          super(props);
        }
        render() {
          return <div>{this.props.x}</div>;
        }
      }

      ReactDOM.render(<C6 />, test, () => console.log('its done'));
      // ReactDOM.render(123, test);
    </script>
  </body>
</html>
