<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <script type="text/javascript">
        function OnSelectImage(){
            var process=function(message,per){
                var data1 = message;
            }

            var succ = function (data) {
                var data1 = data;
            }

            var merror = function (errData) {
                var err = errData;
            }

            var data = new Object();
            data.category = "$RA1206001";
            data.res_id = "17";

            Edbox.PrivateAsset.UploadPrivateAssetInfo(data, process, succ, merror)
        }
    </script>
</head>
<body>
    <script src="/libs/Edbox/js/Edbox.js" type="text/javascript"></script>
    <script src="/libs/Edbox_PrivateAsset/js/Edbox_PrivateAsset.js" type="text/javascript"></script>
    <script type="text/javascript">
        Edbox.ServerKey = "QA";
		Edbox.Start();
		Edbox.Host.MMO.QA = "192.168.212.115:8081";
		Edbox.LobbyView.Init();
    </script>
    <button Type="Button",OnClick="OnSelectImage();">SelectImage!</button>
    <div>
        <input type="file" id="files" style="display: none" onchange="fileImport();">
        <input type="button" id="fileImport" value="导入">
    </div>
    <script src="../js/jQuery/jquery-1.11.1.js"></script>
    <script>
        //点击导入按钮,使files触发点击事件,然后完成读取文件的操作
        $("#fileImport").click(function () {
            $("#files").click();
        })
        function fileImport() {
            //获取读取我文件的File对象
            var selectedFile = document.getElementById('files').files[0];
            var name = selectedFile.name;//读取选中文件的文件名
            var size = selectedFile.size;//读取选中文件的大小
            console.log("文件名:"+name+"大小:"+size);

            var process=function(message,per){
                var data1 = message;
            }

            var succ = function (data) {
                var data1 = data;
            }

            var merror = function (errData) {
                var err = errData;
            }

            var data = new Object();
            data.file = selectedFile;
            data.category = "$RA1206001";
            data.title = name;
            data.description = "ceshi";
            data.custom_properties = "";
            data.size = size;

            Edbox.PrivateAsset.UploadPrivateAssetInfo(data, process, succ, merror)
            

            var reader = new FileReader();//这是核心,读取操作就是由它完成.
            //reader.readAsText(selectedFile);//读取文件的内容,也可以读取文件的URL
            reader.onload = function () {
                //当读取完成后回调这个函数,然后此时文件的内容存储到了result中,直接操作即可
                console.log(this.result);
            }
        }
    </script>
</body>
</html>