!function(e){var t={};function o(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(i,r,function(t){return e[t]}.bind(null,r));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){!function(){if(void 0!==$){document.onselectstart=function(){return!1};var e=window.parent,t=$(window),o={_val:2,isVertical:function(){return 1===this._val},isHorizontal:function(){return 2===this._val},setOrient:function(){var e=$(document);this._val=e.width()>e.height()?2:1;var t=this.isVertical()?"hor":"ver",o=this.isVertical()?"ver":"hor";onsole.log(i.isEdit()),u("window"),u("logBox"),this.isVertical()&&$("body").css({background:"#fff"}),$("body").removeClass(t).addClass(o)}},i={_val:2,isLog:function(){return 2===this._val},isEdit:function(){return 1===this._val},setMode:function(e){"edit"===e?(this._val=1,$("body").removeClass("login").addClass("edit"),this.setEventHandler()):(this._val=2,$("body").removeClass("edit").addClass("login"),this.setEventHandler())},setEventHandler:function(){this.eventHandler=this.isLog()?this.loginHandler:this.editHandler},eventHandler:function(){},loginHandler:function(e){onsole.log("login mode receive :",e.data);var t=h(e),o=t.type,i=t.dataObj;switch(o){case"DatasConfig":return b(i),void y();case"Language":return void r.setEnv(i);default:return}},editHandler:function(e){onsole.log("edit mode receive :",e.data);var t=h(e),o=t.type,i=t.dataObj;switch(o){case"Init":return b(i),void y();case"Language":return void r.setEnv(i);case"Tabclick":return;case"Update":return void function(e){b(e)}(i);default:return void onsole.log("%c event not handled with type: "+o,"color:red")}}},r={_val:1,isEnvSet:!1,isCN:function(){return 1===this._val},isUS:function(){return 2===this._val},setEnv:function(e){switch(this.isEnvSet=!0,e=e&&e.toString&&e.toString(),!0){case"US"===e||"simplifiedchinese"!==e.toLowerCase():this._val=2,this.urlConfig.agreement="//edbox.101.com/about/en/terms/?auto=0",this.urlConfig.privacy="//edbox.101.com/about/en/privacy/?auto=0",this.urlConfig.help="//help.edbox.101.com",this.urlConfig.homepage="//edbox.101.com",this.txtConfig.guideLine="Hi,choose a login mode~",this.txtConfig.agreement="User agreement",this.txtConfig.privacy="Private policy",this.txtConfig.help="Help manual";break;default:this._val=1}f(l)},getUrl:function(e){return r.urlConfig[e]||""},getSetting:function(e){return r.txtConfig[e]||""},urlConfig:{homepage:"//edbox.101.com/cn/",agreement:"//edbox.101.com/about/cn/terms/?auto=0",privacy:"//edbox.101.com/about/cn/privacy/?auto=0",help:"//help.edbox-cn.101.com"},txtConfig:{guideLine:"",agreement:"用户协议",privacy:"隐私政策",help:"帮助手册"}},n="",a="",s="./img/login-arrow.png",l=[{name:"agreement"},{name:"privacy"},{name:"help"}],d={},c={val:{align:"textAlign",name:"fontFamily",size:"fontSize",fontColor:"color"},bool:{bold:"fontWeight",italic:"fontStyle",underline:"textDecoration"}};!function(){function t(o){e||(e=o.source||null);var n=h(o),a=n.type,s=n.dataObj,l=n.name,d=n.cluss;"Connect"===a&&m("Connect"),"Language"===a&&r.setEnv(s),("Login"===l&&"Login"===d||"Init"===a)&&(i.setMode("edit"),t=i.eventHandler),"DatasConfig"===a&&(i.setMode("login"),t=i.eventHandler),i.eventHandler(o)}var o;o=t,window.addEventListener("message",o)}(),m("FunctionCall",["Language","return Edbox.Language"])}function u(e,t){var o="";switch(e){case"window":t&&(a=t),t=t||a,o="body";break;default:t&&(n=t),t=t||n,o=".logBox"}t&&$(o).css({background:'url("'+t+'") no-repeat 50% 50% / 100% auto',backgroundSize:"cover"})}function v(e){var t=e.Value||r.getSetting("guideLine"),o=$(".guideTxt"),i={};!function e(t,o){if("object"==typeof t)for(var i in t)"object"!=typeof t[i]?o(i,t[i]):e(t[i],o)}(e.Style,(function(e,t){switch(!0){case e in c.val:return"size"===e&&(t=parseInt(t),i.lineHeight=t+"px",i.height=t+"px"),void(i[c.val[e]]=t);case e in c.bool:return void(i[c.bool[e]]=t?e:"");default:return void("endNum"===e?i.maxHeight=t:onsole.log("%c props not handle"+e,"color:orange"))}})),onsole.log("%c css"+JSON.stringify(i),"color:green"),o.html(t).css(i)}function f(e,t){var o=$(".links"),n="";(t=t||s)&&(s=t);for(var a=0;a<e.length;a++)n+='<div class="link"><div class="arrow"><img src="'+t+'" /></div><div class="text"><a'+(i.isEdit()?"":' target="_blank" href="'+r.getUrl(e[a].name)+'"')+'">'+r.getSetting(e[a].name)+"</a></div></div>";o.html(n)}function g(e,t){switch(t){case"Modes":return void function(e){d=e;var t=e.Key&&e.Key.length>0?e.Key:e.Keys||[],o=e.Value&&e.Value.length>0?e.Value:e.Items||[],r=new Array(t.length||0);function n(e,t){for(var o in e){var i=e[o];if(i.Name===t)return i}return onsole.log("%c Key is not found in Value","color:blue"),{}}for(var a in t)r[a]=n(o,t[a]);!function(e){var t=$(".brands"),o="",r=e.length;if(i.isEdit())for(var n=0;n<r;n++)o+='<div class="brand"><div class="imgBox"><img src="'+e[n].Image+'" alt="" /></div><div class="nameBox bold">'+e[n].ShowName+"</div></div>";else for(var a=0;a<r;a++)o+='<div data-link="'+e[a].Name+'" class="brand"><div class="imgBox"><img src="'+e[a].Image+'" alt="" /></div><div class="nameBox bold">'+e[a].ShowName+"</div></div>";var s=6-r%6;if(r>2&&0!==s&&6!==s)for(var l=0;l<s;l++)o+='<div class="hollowBrand"></div>';t.html(o)}(r)}(e);case"Background":return void u("logBox",e.Value);case"WindowBackground":return void u("window",e.Value);case"LeadingWords":return void v(e);case"LeadingIcon":return void f(l,e.Value);default:return void onsole.log("%c object checked but not handle : "+t,"color:orange")}}function h(e){var t=e.data||{};t.length&&(t=t[0]||{});var o=t.Type,i=t.Name,r=t.Class;return{type:o,dataObj:(t.Datas||[])[0]||{},name:i,cluss:r}}function b(e){var t=e.Name;for(var o in g(e,t),e){var i=e[o]||{};if("Datas"===o&&i.length&&i.length>0){for(var r in i)b(i[r]);break}}}function p(e,o){var i=$(e),r=$(o),n={moveOpacity:.4,throttleTime:600,borderTop:30,borderBottom:50,borderLeft:50,borderRight:50,mouseBtn:0},a={carryDiv:null,carryDivPos:-1,dropDivPos:-1,fixLeft:0,fixTop:0,originMouseLeft:0,originMouseTop:0,$borderDiv:r,$dragableDiv:i,dragableDivWidth:i.width(),dragableDivHeight:i.height(),borderLeft:0,borderRight:0,borderTop:0,borderBottom:0,hasDropDiv:!1,initCarryDiv:function(e,t){this.originMouseLeft=t.screenX,this.originMouseTop=t.screenY,this.carryDiv=e.clone().appendTo(e).css({position:"absolute",left:this.fixLeft,top:this.fixTop,margin:0,zIndex:999,opacity:n.moveOpacity}),this.carryDivPos=e.index()},moveCarryDiv:function(e){this.carryDiv.css({left:this.fixLeft+e.screenX-this.originMouseLeft,top:this.fixTop+e.screenY-this.originMouseTop})},dropCarryDiv:function(){this.isCrossBorder()||(this.hasDropDiv=!0),this.carryDiv.remove(),this.carryDiv=null},insertDiv:function(){onsole.log("insert div",this.carryDivPos,"before",this.dropDivPos);var e=this.carryDivPos,t=this.dropDivPos;if(e!==t){!function(e,t){function o(e,t,o){if(t<o){if(t+1===o)return;e.splice(o,0,e[t]),e.splice(t,1)}else e.splice(o,0,e[t]),e.splice(t+1,1)}d.Value&&d.Value.length&&0!==d.Value.length||(d.Value=d.Items),d.Key&&d.Key.length&&0!==d.Key.length||(d.Key=d.Keys),o(d.Value,e,t),o(d.Key,e,t),function(e,t){var o=[],i=[];for(var r in e)for(var n in t)if(e[r]===t[n]){o.push(t[n]),i.push(n);break}var a=i.sort();for(var s in a)t[a[s]]=o[s]}(d.Key,d.Keys),m("Update",d)}(e,t);var o=$(".brand").eq(e),i=$(".brand").eq(t);o.detach().insertBefore(i),this.carryDivPos=-1,this.dropDivPos=-1}},isCrossBorder:function(){var e=this.carryDiv.offset();return e.left<=this.borderLeft||e.left>=this.borderRight||e.top<=this.borderTop||e.top>=this.borderBottom},initBorder:function(){this.borderLeft=r.offset().left-n.borderLeft,this.borderRight=r.width()+this.borderLeft-this.dragableDivWidth+n.borderLeft+n.borderRight,this.borderTop=r.offset().top-n.borderTop,this.borderBottom=r.height()+this.borderTop-this.dragableDivHeight+n.borderTop+n.borderBottom},updateBorder:function(){this.initBorder()},disableMouse:function(){$("body").css({cursor:"no-drop"})}};var s,l,c,u,v,f=(s=function(e){if(e.button===n.mouseBtn){var t=$(this);a.initCarryDiv(t,e)}},l=n.throttleTime,c=!0,u=!1,function(e){if(c||u){u=!1,s.call(this,e);var t=setTimeout((function(){u=!0,clearTimeout(t)}),l);c=!1}});a.initBorder(),a.$borderDiv.on("mousedown",e,(function(e){f.call(this,e)})).on("mouseover",e,(function(){a.hasDropDiv&&(a.dropDivPos=$(this).index(),a.insertDiv(),a.hasDropDiv=!1)})),$(document).on("mousemove",(function(e){a.hasDropDiv&&(a.hasDropDiv=!1),null!==a.carryDiv&&e.button===n.mouseBtn&&(a.moveCarryDiv(e),a.isCrossBorder(e)&&(a.dropCarryDiv(),a.disableMouse()))})).on("mouseup",(function(e){$("body").css({cursor:"default"}),null!==a.carryDiv&&e.button===n.mouseBtn&&a.dropCarryDiv()})),v=a.updateBorder.bind(a),t.on("resize",v)}function m(t,o){if(e){var i=[o||null];"Array"===Object.prototype.toString.call(o).slice(-6,-1)&&(i=o);var r={Type:t,Datas:i};e.postMessage(r,"*")}}function y(){var e,n,a;o.setOrient(),e=o.setOrient.bind(o),t.on("orientationchange"in window?"orientationchange":"resize",e),n=$(".logo"),a="<a"+(i.isEdit()?"":' target="_blank" href="'+r.getUrl("homepage"))+'"><img src="./img/login-edbox.png" alt="" /></a>',n.html(a),i.isLog()&&$(".brand").click((function(){m("GoToLogin",$(this).attr("data-link"))})),i.isEdit()&&p(".brand",".brands")}}()}]);