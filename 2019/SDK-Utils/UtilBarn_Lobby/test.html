<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta http-equiv="Cache-Control" content="no-siteapp">

    <title>UtilBarn 粘合层接口测试</title>

    <link href="/libs/Bootstrap/css/bootstrap-3.0.3.min.css" rel="stylesheet">
</head>
<body>
    <div class="panel panel-default">
        <div class="panel-heading">UtilBarn 粘合层接口测试</div>
        <div class="panel-body">
            <div class="input-group">
               <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetAppTags();">获得作品标签</button>
                </span>
               <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetElearningUrl();">Elearning</button>
				</span>
				<!-- <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetLibUrl();">Lib</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetRecommandApps();">获取推荐列表</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="SearchExperienceApps();">获取体验列表</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetExperienceAppInfo();">获取作品详情</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="SearchCreateApps();">获取模板列表</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="AddPlayRecord();">添加最近游戏记录</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetPlayRecord();">获取最近游戏记录</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetAppTags();">获取作品标签</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetGameRecentUpdates();">获取作品历史</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetGameOriginalTpl();">获取作品模板</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetGameSameTpl();">获取作品推荐</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="CollectApp();">收藏作品</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="CancelCollectApp();">取消收藏</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetUserCollectApps();">获取收藏列表</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetImage();">图片测试</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetPublishCountDown();">获取发布倒计时</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetPublishOrigin();">获取发布页详情</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetProgress();">进度测试</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GameEditor();">编辑测试</button>
                </span> -->
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="CheckEbService();">基础服务程序测试</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetWebIMUrl();">WebIM测试</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="ExportApk();">导出APK测试</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="ExportExeGame();">导出ExeGame测试</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GamePlay();">播放测试</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="GetUserScoreInfo();">获取用户标签测试</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="SearchBaiduImage();">搜索百度图片</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="SearchGoogleImage();">搜索谷歌图片</button>
                </span>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" onclick="OpenScreenShooter();">截图</button>
                </span>
            </div>
			<!-- <a id="BaseProgramDownload" href="" style="display: none;">下载客户端</a> -->
        </div>
    </div>

    <script src="/libs/UtilBarn_Lobby/js/UtilBarn.js" type="text/javascript"></script>
    <script src="/libs/UtilBarn_Lobby/js/UtilBarn_Lobby.js" type="text/javascript"></script>
	<script src="/libs/UtilBarn/Api/MMO.js" type="text/javascript"></script>


    <script type="text/javascript">
		UtilBarn.ServerKey = "Dev";
		UtilBarn.Start();
		UtilBarn.Lobby.Init();

		var data = {"currentPage":1,"itemCount":3};
		UtilBarn.Lobby.GetVersionLog(data,
			function(result){
				console.log(result);
			},
			function(e){
				console.log(e);
			}
		);
		data = {"currentPage":2,"itemCount":3};
		UtilBarn.Lobby.GetVersionLog(data,
			function(result){
				console.log(result);
			},
			function(e){
				console.log(e);
			}
		);

		function GetElearningUrl(){
			var data = Object;
			UtilBarn.Lobby.GetElearningUrl(data,
				function(data){
					console.log(data);
					window.open(data); 
				},function(e){
					console.log(e);
				}
			);
		}

		function GetLibUrl(){
			var data = Object;
			UtilBarn.Lobby.GetLibUrl(data,
				function(data){
					console.log(data);
					window.open(data); 
				},function(e){
					console.log(e);
				}
			);
		}

		function ReportApp() {
			var data = {"gameId":"f29fcc70-98a7-11e9-9aa3-2d04e19c2d12","playerId":UtilBarn.EbUserId,
			"gameVersion":"1.02","reportContent":"游戏截图,游戏视频" ,"reportDesc":"1111111111111111111111111111"};
			console.log(UtilBarn.EbUserId);
			UtilBarn.Lobby.ReportApp(data,
				function(data){
					console.log(data);
				},function(e){
					console.log(e);
				}
			);
		}

		function GetTagsList() {
			var data = '';
			UtilBarn.Lobby.GetTagsList(data, function(apps){
				console.log(apps);
			}, function(error){
				console.log("GetTagsList error:" + error)
			});
		}
		
		function GetRecommandApps() {
			var data = new Object;
			data.recommand_type = 1;
			data.page = 1;
			data.size = 12;
			UtilBarn.Lobby.GetRecommandApps(data, function(apps){
				console.log(apps);
			}, function(error){
				console.log("GetRecommandApps error:" + error)
			});
		}
		
		function GetPlayRecord(){
			
			UtilBarn.Lobby.GetPlayRecord('', function(apps){
				console.log(apps);
			}, function(error){
				console.log("GetPlayRecord error:" + error)
			});
		}
		
		function AddPlayRecord(){
			UtilBarn.Api.MMO.AddPlayRecord("a5181510-7d2d-11e9-b6a2-a5b59933a89d",
				function(apps){
					
				},
				function(e){
					
				}
			);
		}
		
		function SearchExperienceApps() {
			var data = new Object;
			data.word = 'T0001';
			data.page = 1;
			data.size = 12;
			data.sorts = "!popular,releasetime";
			data.type = "T0001";
			UtilBarn.Lobby.SearchExperienceApps(data, function(apps){
				console.log(apps);
			}, function(error){
				console.log("SearchExperienceApps error:" + error)
			});
		}
		
		function SearchCreateApps(){
			var data = new Object;
			data.word = '';
			data.page = 1;
			data.size = 50;
			data.sorts = "!popular, releasetime";
			UtilBarn.Lobby.SearchCreateApps(data, function(apps){
				console.log(apps);
			}, function(error){
				console.log("SearchCreateApps error:" + error)
			});
		}
		
		function GetExperienceAppInfo() {
			var data = new Object;
			data.appid = '903fe540-5f5b-11e9-8e67-c371fc656ae9';
			UtilBarn.Lobby.GetExperienceAppInfo(data, function(app){
				console.log(app);
			}, function(error){
				console.log("GetExperienceAppInfo error:" + error)
			});
		}
		
		function GetAppTags(){
			var data = new Object;
			data.appid = 'a5181510-7d2d-11e9-b6a2-a5b59933a89d';
			UtilBarn.Lobby.GetAppTags(data, function(app){
				console.log(app);
			}, function(error){
				console.log("GetAppTags error:" + error)
			});
		}
		
		function GetGameRecentUpdates() {
			var data = new Object;
			data.appid = 'a5181510-7d2d-11e9-b6a2-a5b59933a89d';
			UtilBarn.Lobby.GetGameRecentUpdates(data, function(app){
				console.log(app);
			}, function(error){
				console.log("GetGameRecentUpdates error:" + error)
			});
		}
		
		function GetGameOriginalTpl() {
			var data = new Object;
			data.appid = 'fb1ca120-9a41-11e9-aac5-63285734a164';
			UtilBarn.Lobby.GetGameOriginalTpl(data, function(app){
				console.log(app);
			}, function(error){
				console.log("GetGameOriginalTpl error:" + error)
			});
		}
		
		function GetGameSameTpl() {
			var data = new Object;
			data.appid = '3762f3b0-6f1c-11e9-8cd9-6f81ef3cbc68';
			UtilBarn.Lobby.GetGameSameTpl(data, function(app){
				console.log(app);
			}, function(error){
				console.log("GetGameSameTpl error:" + error)
			});
		}
		
		function GetImage() {
			var data = new Object;
			data.resourceId = "a12ecd4c-83db-4913-b079-a97fd67b257f";
			UtilBarn.Lobby.GetImage(data, function(app){
				console.log(app);
			}, function(error){
				console.log("GetImage error:" + error)
			});
		}
		
		function CollectApp() {
			var data = new Object;
			data.appid = 'a5181510-7d2d-11e9-b6a2-a5b59933a89d';
			UtilBarn.Lobby.CollectApp(data, function(app){
				console.log(app);
			}, function(error){
				console.log("CollectApp error:" + error)
			});
		}
		
		function CancelCollectApp() {
			var data = new Object;
			data.appid = 'a5181510-7d2d-11e9-b6a2-a5b59933a89d';
			UtilBarn.Lobby.CancelCollectApp(data, function(app){
				console.log(app);
			}, function(error){
				console.log("CancelCollectApp error:" + error)
			});
		}
		
		function GetUserCollectApps() {
			var data = new Object;
			data.page = 1;
			data.size = 12;
			UtilBarn.Lobby.GetUserCollectApps(data, function(apps){
				console.log(apps);
			}, function(error){
				console.log("GetUserCollectApps error:" + error)
			});
		}
		
		function GamePlay(){
			var data = new Object;
			// data.taskId = UtilBarn.GetGUID();
			data.taskId = 'a5181510-7d2d-11e9-b6a2-a5b59933a333';
			data.appId = 'bc2258b0-ffd3-11e8-910b-d58021a6c605';
			// data.appId = '9fe838a0-7d2c-11e9-8121-b7daed65fd6a';
			data.playType = 3;
			data.version = '';
			UtilBarn.Lobby.OpenGamePlay(data, function(data){
				console.log(data);
			}, function(error){
				console.log("GamePlay error:" + JSON.stringify(error))
			});
		}
		
		function GetProgress(){
			var data = new Object;
			data.taskId = 'a5181510-7d2d-11e9-b6a2-a5b59933a333';
			UtilBarn.Lobby.GetProgress(data, function(data){
				console.log(data);
			}, function(error){
				console.log(error)
			});
		}
		
		function GameEditor(){
			var data = new Object;
			data.taskId = UtilBarn.GetGUID();
			data.appId = '481539d0-7bd2-11e9-bb27-fdf35f0ec2e7';
			// data.appId = '594e4230-40b5-11e9-9640-8b7a33a6f7f0';
			data.accessType = 1;
			data.version = '1.00';
			UtilBarn.Lobby.OpenGameEditor(data, function(data){
				console.log(data);
			}, function(error){
				console.log("GamePlay error:" + JSON.stringify(error))
			});
		}
		
		function CheckEbService(){
			UtilBarn.Lobby.CheckEbService("", function(data){
				console.log("CheckEbService success, data :" + data)
			}, function(error){
				console.log("CheckEbService error:" + error)
			})
		}
		
		function GetPublishCountDown(){
			UtilBarn.Lobby.GetPublishCountDown("" , function(data){
				console.log(data);
			}, function(error){
				console.log("GetPublishCountDown error:" + error)
			});
		}
		
		function GetPublishOrigin(){
			var data = new Object;
			// data.appId = 'a5181510-7d2d-11e9-b6a2-a5b59933a89d';
			// data.appId = '9fe838a0-7d2c-11e9-8121-b7daed65fd6a';
			data.appId = '606d0050-4a0c-11e9-97fd-552b40cd9fe0';
			// data.appId = '594e4230-40b5-11e9-9640-8b7a33a6f7f0';
			UtilBarn.Lobby.GetPublishOrigin(data , function(data){
				console.log(data);
			}, function(error){
				console.log("GetPublishOrigin error:" + error)
			});
		}
		
		function GetWebIMUrl(){
			UtilBarn.Lobby.GetWebIMUrl("" , function(data){
				console.log(data);
			}, function(error){
				console.log("GetWebIMUrl error:" + error);
			});
		}
		
		function ExportApk(){
			var data = new Object;
			data.taskId = UtilBarn.GetGUID();
			data.appId = '903fe540-5f5b-11e9-8e67-c371fc656ae9';
			// data.icon = '2870e7e7-78ea-438d-890c-6aa8c5429c69';
			data.icon = '0f800cfc-c715-4bbd-8ed7-b95bdd832799';
			data.accessType = 3;
			data.gameName = '切水果041502';
			UtilBarn.Lobby.ExportApk(data, function(data){
				console.log("111 :" + data);
			}, function(error){
				console.log("111  ExportApk error:" + JSON.stringify(error))
			});
		}
		
		function ExportExeGame(){
			var data = new Object;
			data.taskId = UtilBarn.GetGUID();
			data.appId = '903fe540-5f5b-11e9-8e67-c371fc656ae9';
			data.icon = '2870e7e7-78ea-438d-890c-6aa8c5429c69';
			data.accessType = 3;
			data.gameName = '切水果041502';
			UtilBarn.Lobby.ExportExeGame(data, function(data){
				console.log("111 :" + data);
			}, function(error){
				console.log("111  ExportExeGame error:" + JSON.stringify(error))
			});
		}
		
		function GetUserScoreInfo(){
			var data = new Object;
			data.appId = '1b8423c0-af50-11e9-8771-c5785cee4240';
			UtilBarn.Lobby.GetUserScoreInfo(data, function(data){
				console.log("111 :" + data);
			}, function(error){
				console.log("111  GetUserScoreInfo error:" + JSON.stringify(error))
			});
		}
		
		function SearchBaiduImage(){
			var data = new Object;
			//随机guid
			data.taskId = UtilBarn.GetGUID();
			//搜索关键字
			data.word = '可爱';
			//页数
			data.pageIndex = 1;
			UtilBarn.EbService.SearchBaiduImage(data, function(data){
				console.log("SearchBaiduImage :" + data);
			}, function(error){
				console.log("SearchBaiduImage error:" + JSON.stringify(error))
			});
		}
		
		function SearchGoogleImage(){
			var data = new Object;
			//随机guid
			data.taskId = UtilBarn.GetGUID();
			//搜索关键字
			data.word = '可爱';
			//页数
			data.pageIndex = 1;
			UtilBarn.EbService.SearchGoogleImage(data, function(data){
				console.log("SearchGoogleImage :" + data);
			}, function(error){
				console.log("SearchGoogleImage error:" + JSON.stringify(error))
			});
		}
		
		function OpenScreenShooter(){
			var data = new Object;
			//随机guid
			data.taskId = UtilBarn.GetGUID();
			UtilBarn.EbService.OpenScreenShooter(data, function(data){
				console.log("OpenScreenShooter :" + data);
			}, function(error){
				console.log("OpenScreenShooter error:" + JSON.stringify(error))
			});
		}
    </script>
</body>
</html>